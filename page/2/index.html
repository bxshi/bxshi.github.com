<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="8zCr1Cr9pNCmDVidKXdGFdCIDicUaVqFIICkdm51t9I" />










  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="RAndom NoTeS">
<meta property="og:url" content="http://bxshi.github.io/page/2/index.html">
<meta property="og:site_name" content="RAndom NoTeS">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RAndom NoTeS">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> RAndom NoTeS </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-54337152-1', 'auto');
  ga('send', 'pageview');
</script>







  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">RAndom NoTeS</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            Tags
          </a>
        </li>
      

      
      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">

    

    
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/09/21/Edit-Distance/" itemprop="url">
                  Edit Distance
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-09-21T22:13:00-04:00" content="2015-09-21">
              2015-09-21
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/09/21/Edit-Distance/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/09/21/Edit-Distance/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>The sub-problem of edit distance is the edit distance of string <code>A[0:i]</code> and string <code>B[0:j]</code>.</p>
<p>The boundary cases are:</p>
<ol>
<li><code>A.length() == 0</code>, then edit distance is <code>B.legnth()</code></li>
<li><code>B.length() == 0</code>, then edit distance is <code>A.length()</code></li>
<li>otherwise, there are three cases (log the minimum score):<ol>
<li>if we align <code>A</code> and <code>B</code> at <code>i</code> and <code>j</code> respectly, then the edit distance is <code>M[i-1][j-1] + (A[i] == B[j] ? 0 : 1)</code></li>
<li>if we align by <code>A[0:i-1]</code> and <code>B[0:j]</code>, then we need to perform a delete/add operation</li>
<li>if we align by <code>A[0:i]</code> and <code>B[0:j-1]</code>, then we need to perform a delete/add operation</li>
</ol>
</li>
</ol>
<p>By analysis the above conditions, we can know the state we need to keep is two rows, namely <code>M[i-1][0:j]</code> and <code>M[i][0:j]</code>.</p>
<p>Therefore, the code is:</p>
<script src="//gist.github.com/264b131e2edb52d2ba5b.js"></script>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/09/11/Pirority-Queue-Heap-Implementation/" itemprop="url">
                  Pirority Queue, Heap Implementation
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-09-11T23:09:19-04:00" content="2015-09-11">
              2015-09-11
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/09/11/Pirority-Queue-Heap-Implementation/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/09/11/Pirority-Queue-Heap-Implementation/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Pirority queue can be implemented by a binary heap, and heap is usually implemented in a vector so we do not need to keep multiple pointers that point to its parent and two children.</p>
<p>If we use a vector <code>v</code> to store a heap, it satisfies the following rules:</p>
<ol>
<li>the root of this heap is stored at <code>v[1]</code>, and <code>v[0]</code> is never used</li>
<li>for any sub heap in this vector, if <code>v[pos]</code> is the root, <code>v[2*pos]</code> and <code>v[2*pos + 1]</code> are the children of it.</li>
<li>for any node (except the root) in the heap, <code>v[pos]</code>‘s parent is <code>v[pos/2]</code>.</li>
</ol>
<p>The main operations of a heap is <code>insert</code> ant <code>pop</code>, when the heap is a min heap, <code>pop</code> pops out the maximum value in the heap and when it is a max heap, it pops out the smallest one. Since we need to keep the root to be the smallest or largest element, every time we modify the heap, we need to reorder it in order to keep the root is the largest or smallest.</p>
<p>Therefore, we need to define two algorithms to reorder the heap for both <code>insert</code> and <code>pop</code> function.</p>
<h3 id="Insert"><a href="#Insert" class="headerlink" title="Insert"></a>Insert</h3><p>Insert is done by attach an element to the rightmost node.</p>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/09/06/Trie-Prefix-Tree-and-Suffix-Tree/" itemprop="url">
                  Trie, Prefix Tree, and Suffix Tree
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-09-06T21:26:33-04:00" content="2015-09-06">
              2015-09-06
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/09/06/Trie-Prefix-Tree-and-Suffix-Tree/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/09/06/Trie-Prefix-Tree-and-Suffix-Tree/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Trie is a tree with k different type of children where the number of each type of child is 0 or 1.</p>
<p>Prefix Tree is a Trie that contains all the prefix of a string or strings.</p>
<p>Suffix Tree is a Trie that contains all the suffix of a string or strings.</p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference:"></a>Reference:</h3><p><a href="https://www.cs.cmu.edu/~ckingsf/bioinfo-lectures/suffixtrees.pdf" target="_blank" rel="external">Suffix Trees</a></p>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/09/06/String-Problems/" itemprop="url">
                  String Problems
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-09-06T20:17:07-04:00" content="2015-09-06">
              2015-09-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/code-interview/" itemprop="url" rel="index">
                    <span itemprop="name">code interview</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/09/06/String-Problems/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/09/06/String-Problems/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="String-Matching-or-needle-in-haystack-KMP-Algorithm"><a href="#String-Matching-or-needle-in-haystack-KMP-Algorithm" class="headerlink" title="String Matching, or needle in haystack (KMP Algorithm)"></a>String Matching, or needle in haystack (KMP Algorithm)</h3><blockquote>
<p>Given a string <code>target</code>, find the index of its first occurrence in string <code>source</code>. -1 if such index does not exist.</p>
</blockquote>
<p>There is a good <a href="https://www.youtube.com/watch?v=1k2KDhcO_uo" target="_blank" rel="external">youtube video</a> that describes KMP table generation pretty well and I hope you could check it out.</p>
<p>Another good resource is the <a href="https://en.wikipedia.org/wiki/Knuth–Morris–Pratt_algorithm" target="_blank" rel="external">Wikipedia page of KMP</a>, which explains the purpose of KMP with great examples. But it becomes less straightforward when comes to the pseudo code part.</p>
<p>Okay, here comes the code, we divide the code into two parts, the first one is generating KMP table, which determines how should we move when there is a mismatch, and the second part is the matching function that does the matching according to our KMP table.</p>
<script src="//gist.github.com/7238f288bb28ebc3a088.js"></script>
<p>Several notes:</p>
<ol>
<li>The <code>failure_table</code> (or <code>table</code> in this case) is for the target string (needle), not the source string.</li>
<li>Using <code>pos</code> and <code>offset</code> can be more convience than traditional <code>i</code>, <code>j</code> which denotes the position in each string accordingly because this eliminates the calulation of the index of first occurrence.</li>
</ol>
<p>The above code is also the solution of <code>strStr()</code> question on <a href="https://leetcode.com/problems/implement-strstr/" target="_blank" rel="external">LeetCode</a> and <a href="http://www.lintcode.com/en/problem/strstr/" target="_blank" rel="external">LintCode</a>.</p>
<h3 id="Longest-Common-Substring"><a href="#Longest-Common-Substring" class="headerlink" title="Longest Common Substring"></a>Longest Common Substring</h3><blockquote>
<p>Find the longest common substring of two strings.</p>
</blockquote>
<h4 id="Suffix-Tree-solution-of-LCS-with-two-strings"><a href="#Suffix-Tree-solution-of-LCS-with-two-strings" class="headerlink" title="Suffix Tree solution of LCS with two strings"></a>Suffix Tree solution of LCS with two strings</h4><p>First let’s see an examle from Wikipedia</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ABABC</span><br><span class="line">  <span class="string">|||</span></span><br><span class="line"> BABCA</span><br></pre></td></tr></table></figure>
<p>Apparently the longset common substring is <code>ABC</code>, and <code>ABC</code> can be obtained by the following procedures:</p>
<ol>
<li>For all suffixes of <code>ABABC</code> and <code>BABCA</code>, find the longest common prefix of their suffixes</li>
<li>For all prefixes of <code>ABABC</code> and <code>BABCA</code>, find the longest common suffix of their prefixes</li>
</ol>
<p>The defintion and implementation of <code>Suffix Tree</code> or <code>Suffix Trie</code> can be found in <a href="../Trie-Prefix-Tree-and-Suffix-Tree/">another article</a>.</p>
<p>Here is the naive solution of it, and the time complexity is <code>O(n^2 + m^2)</code>, where <code>n</code> and <code>m</code> are the length of each string.</p>
<p>The main steps of this solution is:</p>
<ol>
<li>we insert all suffixes of string <code>A</code> and string <code>B</code> into a suffix trie. &lt;- this costs <code>O(n^2 + m^2)</code> due to the naive implementation</li>
<li>we search the suffix trie we get and find the deepest ancestor of suffixes of both <code>A</code> and <code>B</code>. &lt;- this costs <code>O(m+n)</code> time</li>
</ol>
<script src="//gist.github.com/b06602a60aa5feb47497.js"></script>
<p>An improved implementation is as follow.</p>
<p>TODO: gist of an improved version of suffix tree</p>
<p>Here is a youtube video that explains how (Ukkonen’s algorithm)[<a href="https://www.youtube.com/watch?v=aPRqocoBsFQ" target="_blank" rel="external">https://www.youtube.com/watch?v=aPRqocoBsFQ</a>] works</p>
<h4 id="Dynamic-Programming-solution-of-LCS-with-two-strings"><a href="#Dynamic-Programming-solution-of-LCS-with-two-strings" class="headerlink" title="Dynamic Programming solution of LCS with two strings"></a>Dynamic Programming solution of LCS with two strings</h4><script src="//gist.github.com/857586e520357160bd0b.js"></script>
<blockquote>
<p>Find the longset common substring of <code>m</code> strings.</p>
</blockquote>
<h4 id="Suffix-Tree-solution-of-LCS-with-m-strings"><a href="#Suffix-Tree-solution-of-LCS-with-m-strings" class="headerlink" title="Suffix Tree solution of LCS with m strings"></a>Suffix Tree solution of LCS with <code>m</code> strings</h4><h3 id="Longest-Common-Subsequence"><a href="#Longest-Common-Subsequence" class="headerlink" title="Longest Common Subsequence"></a>Longest Common Subsequence</h3><h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference:"></a>Reference:</h3><p><a href="https://en.wikipedia.org/wiki/Knuth–Morris–Pratt_algorithm" target="_blank" rel="external">Knuth–Morris–Pratt algorithm</a><br><a href="https://www.youtube.com/watch?v=1k2KDhcO_uo" target="_blank" rel="external">KMP Table Tutorial</a><br><a href="https://en.wikipedia.org/wiki/Longest_common_substring_problem" target="_blank" rel="external">Longest common substring problem</a><br><a href="https://en.wikipedia.org/wiki/Longest_common_subsequence_problem" target="_blank" rel="external">Longest common subsequence problem</a></p>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/27/Graph-Traversal-DFS-BFS-and-BFS-From-Both-Sides/" itemprop="url">
                  Graph Traversal -- DFS, BFS, and BFS From Both Sides
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-08-27T21:25:14-04:00" content="2015-08-27">
              2015-08-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/code-interview/" itemprop="url" rel="index">
                    <span itemprop="name">code interview</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/08/27/Graph-Traversal-DFS-BFS-and-BFS-From-Both-Sides/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/08/27/Graph-Traversal-DFS-BFS-and-BFS-From-Both-Sides/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Depth-First-Search"><a href="#Depth-First-Search" class="headerlink" title="Depth First Search"></a>Depth First Search</h3><p>The key point of DFS is keep tracking all visited nodes and make sure check the end condition correctly. Usually the end condition is reaching certain length or certain node.</p>
<script src="//gist.github.com/b942e1b8b4a9edcd05ec.js"></script>
<h3 id="Breadth-First-Search"><a href="#Breadth-First-Search" class="headerlink" title="Breadth First Search"></a>Breadth First Search</h3><p>The key point of BFS is also keep tracking visited nodes. Unlike DFS which uses recursion, BFS uses a queue to do layer-by-layer traversal.</p>
<script src="//gist.github.com/542f78c54f77f26fb819.js"></script>
<p>In this implementation, we do not keep the lavel, or depth, of the nodes we visited, a simple way to do that is insert an indicator to indicate the end of a layer:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">deque</span>&lt;Node*&gt; frontier;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; visited(GRAPH_SIZE, <span class="literal">false</span>);</span><br><span class="line">frontier.push_back(startNode);</span><br><span class="line">visited[startNode-&gt;label] = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">int</span> level = <span class="number">0</span>; <span class="comment">// start node is at level 0</span></span><br><span class="line"><span class="keyword">while</span>(frontier.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="comment">// push a nullptr into the queue as a label, all nodes before that belongs to the same level</span></span><br><span class="line">  frontier.push_back(<span class="literal">nullptr</span>);</span><br><span class="line">  <span class="keyword">while</span>(frontier.front() != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">    <span class="comment">/*Do normal works, push_back a new neighbor that we did not visited*/</span></span><br><span class="line">    frontier.pop_back(); <span class="comment">// remove current node</span></span><br><span class="line">  &#125;</span><br><span class="line">  frontier.pop_back(<span class="literal">nullptr</span>); <span class="comment">// now we reach the end of the level, add level by 1</span></span><br><span class="line">  ++level;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Breath-First-Search-with-Two-Frontiers"><a href="#Breath-First-Search-with-Two-Frontiers" class="headerlink" title="Breath First Search with Two Frontiers"></a>Breath First Search with Two Frontiers</h3><p>The following code is for the <code>Word Ladder</code> problem. I used BFS with two frontiers to solve this problem. The details can be seen in the code comment</p>
<script src="//gist.github.com/2f026be77fa8fcc2ef73.js"></script>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/25/Hide-One-or-More-Legends-in-ggplot2/" itemprop="url">
                  Hide One or More Legends in ggplot2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-08-25T14:45:06-04:00" content="2015-08-25">
              2015-08-25
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/08/25/Hide-One-or-More-Legends-in-ggplot2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/08/25/Hide-One-or-More-Legends-in-ggplot2/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>This is actually pretty simple thanks to <a href="~/Blog/bxshi.github.com/source/_posts/Hide-One-or-More-Legends-in-ggplot2.md">this StackOverflow post</a>.</p>
<p>To disable the legend of a scale being shown in the legend, just set <code>guides(SCALE_NAME=FALSE)</code>, the follwing example ignores the legend of <code>color</code>.</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ggplot(mpg, aes(x=cty,y=hwy,color=manufacturer,shape=class)) + geom_point() + guides(color=<span class="literal">FALSE</span>)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/19/Ugly-Number/" itemprop="url">
                  Ugly Number
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-08-19T23:47:29-04:00" content="2015-08-19">
              2015-08-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/code-interview/" itemprop="url" rel="index">
                    <span itemprop="name">code interview</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/08/19/Ugly-Number/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/08/19/Ugly-Number/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Ugly-Number-and-Find-Ugly-Number"><a href="#Ugly-Number-and-Find-Ugly-Number" class="headerlink" title="Ugly Number and Find  Ugly Number"></a>Ugly Number and Find <span>$n^{th}$</span><!-- Has MathJax --> Ugly Number</h2><p>The question description can be found at the following site:</p>
<blockquote>
<p>Leetcode: <a href="https://leetcode.com/problems/ugly-number/" target="_blank" rel="external">(263) Ugly Number</a></p>
</blockquote>
<p>The definition of <strong>ugly number</strong> is the prime fractors of a number only contains <code>2,3,5</code> (<code>1</code> is also an ugly number and it is an exception). Therefore a list of <strong>ugly numbers</strong> are</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">index:   1  2  3  4  5  6  7  8  9  10 ...</span><br><span class="line"></span><br><span class="line">number:  1  2  3  4  5  6  8  9  10 12 ...</span><br></pre></td></tr></table></figure>
<p>The first problem, <code>263 Ugly Number</code> gives an integer as input and the output is whether this is an <strong>ugly number</strong> or not. In order to solve this problem, we need to know how the <strong>ugly numbers</strong> are constructed.</p>
<p>Namely any ugly number can be written as <span>$2^n \times 3^m \times 5^k$</span><!-- Has MathJax -->, therefore to validate an ugly number, all we need to do is divide that number by <code>2</code>,<code>3</code>, and <code>5</code> and see if there is any fraction.</p>
<script src="//gist.github.com/999c226fceb59cc8c549.js"></script>
<h2 id="Find-Ugly-Number"><a href="#Find-Ugly-Number" class="headerlink" title="Find  Ugly Number"></a>Find <span>$n^{th}$</span><!-- Has MathJax --> Ugly Number</h2><p>The question description can be found at the following site:</p>
<blockquote>
<p>Leetcode: <a href="https://leetcode.com/problems/ugly-number-ii/" target="_blank" rel="external">(264) Ugly Number II</a></p>
</blockquote>
<p>This is a follow up problem of the aforementioned ugly number problem. It is easy to validate an ugly number but to generate <span>$n^{th}$</span><!-- Has MathJax --> ugly number needs some effort.</p>
<p>Since we know any ugly number can be represented by <span>$2^n \times 3^m \times 5^k$</span><!-- Has MathJax -->, we denote this as <code>(n,m,k)</code>. Therefore, the pervious ugly number list becomes</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index:     1        2        3        4        5        6        7        8        9       10   ...</span><br><span class="line"></span><br><span class="line">number:    1        2        3        4        5        6        8        9       10       12 ...</span><br><span class="line"></span><br><span class="line">      : (0,0,0)  (1,0,0)  (0,1,0)  (2,0,0)  (0,0,1)  (1,1,0)  (3,0,0)  (0,2,0)  (1,0,1) (2,1,0) ...</span><br></pre></td></tr></table></figure>
<p>If we maintain three ordered queues, the first queue multiple 2 to every new element pushes into it, the second and third multipe 3 and 5 respectively, we can somehow get the result by merging these three queues. The problem is, how should we construct the queues?</p>
<p>An intuitive idea is that a ugly number <code>(a,b,c)</code> can construct three future ugly numbers <code>(a+1,b,c)</code>, <code>(a,b+1,c)</code>, and <code>(a,b,c+1)</code>. If <code>a=1,b=0,c=0</code>, the three ugly numbers are <code>(2,1,1)</code>, <code>(1,2,1)</code>, and <code>(1,1,2)</code>. Unfortunately, although we know <code>(2,0,0) &lt; (1,1,0) &lt; (1,0,1)</code>, we do not know how many other ugly numbers lies between them based on the information we have so far. The good news is, for <code>(a&#39;,b&#39;,c&#39;) &gt; (a,b,c)</code>, we know that <code>(a&#39;+1,b&#39;,c&#39;) &gt; (a+1,b,c)</code>, <code>(a&#39;,b&#39;+1,c&#39;) &gt; (a,b+1,c)</code>, and <code>(a&#39;,b&#39;,c&#39;+1) &gt; (a,b,c+1)</code>. That means if we keeping multiplying a new ugly number by <code>2,3,5</code> and push them into each queue, the numbers in each queue are always in order.</p>
<p>Let’s do an example to illusrate this:</p>
<p>At the beginning, each queue only contains only element <code>1</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">nth: 0</span><br><span class="line">val: unknown</span><br><span class="line"></span><br><span class="line">queue2: 1</span><br><span class="line"></span><br><span class="line">queue3: 1</span><br><span class="line"></span><br><span class="line">queue5: 1</span><br></pre></td></tr></table></figure>
<p>We check the front element of each queue and remove the smallest one, which is <code>1</code>, and then we construct three new numbers and put them into three queues.</p>
<p>Note that we removed all <code>1</code>s in three queues.</p>
<p><em>Embedded numbers mean already removed</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">nth: 1</span><br><span class="line">val: 1</span><br><span class="line"></span><br><span class="line">queue2: [1] 2</span><br><span class="line"></span><br><span class="line">queue3: [1] 3</span><br><span class="line"></span><br><span class="line">queue5: [1] 5</span><br></pre></td></tr></table></figure>
<p>Then we check the fronts again and remove <code>2</code>, then we construct three more ugly numbers using <code>2</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">nth: 2</span><br><span class="line">val: 2</span><br><span class="line"></span><br><span class="line">queue2: [1] [2] 4</span><br><span class="line"></span><br><span class="line">queue3: [1] 3 6</span><br><span class="line"></span><br><span class="line">queue5: [1] 5 10</span><br></pre></td></tr></table></figure>
<p>and so on.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">nth: 3</span><br><span class="line">val: 3</span><br><span class="line"></span><br><span class="line">queue2: [1] [2] 4 6</span><br><span class="line"></span><br><span class="line">queue3: [1] [3] 6 9</span><br><span class="line"></span><br><span class="line">queue5: [1] 5 10 15</span><br></pre></td></tr></table></figure>
<script src="//gist.github.com/60898b3551ffa7af70ad.js"></script>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/18/Algorithm-Problems-Binary-Search/" itemprop="url">
                  Algorithm Problems: Binary Search
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-08-18T22:03:03-04:00" content="2015-08-18">
              2015-08-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/code-interview/" itemprop="url" rel="index">
                    <span itemprop="name">code interview</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/08/18/Algorithm-Problems-Binary-Search/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/08/18/Algorithm-Problems-Binary-Search/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Binary-Search-Basics"><a href="#Binary-Search-Basics" class="headerlink" title="Binary Search Basics"></a>Binary Search Basics</h2><blockquote>
<p>If you know what is binary search, I encourage you to skip the first section and goes to <a href="#Binary Search Questions">the questions</a>.</p>
</blockquote>
<p>Before we dive into real problems, I want to briefly discuss about binary search. Binary search is a technic that can search for the existance of a value in a sorted array in <code>O(logn)</code> time, where <code>n</code> is the size of that array.</p>
<p>An example array <code>v</code>, which is sorted, is shown below:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">index: 0  1  2  3  4  5  6  7  8  9  10</span><br><span class="line"></span><br><span class="line">value: 1  3  4  5  7  9 11 13 20 21  39</span><br></pre></td></tr></table></figure>
<p>Say we want to determine if <code>10</code> is in the array or not, an intuitive solution is walk though this array and check <code>arr[i] == 9</code>. The time complexity of such algorithm is <code>O(n)</code>. Note that this is usually the best solution if the array is <strong>unsorted</strong> because binary search can not be applied to unsorted array (A rotated, sorted array is an exception and we will talk about it later).</p>
<p>To reduce the time complexity of <em>searching for a value in sorted array</em> from <code>O(n)</code> to <code>O(logn)</code>, we will use binary search next.</p>
<p>The <code>C++</code> snippet is as follow:</p>
<script src="//gist.github.com/852d366d94387f4ffc16.js"></script>
<p>Let’s walk though the code using our example:</p>
<p>At the very beginning, <code>l = 0</code> and <code>r = 10</code>. <code>v[l:r]</code>, where <code>l:r</code> means <code>[l,l+1,...,r-1,r]</code>, denotes the search range, in other words, we know that if the target value exists in <code>v</code>, it must lies in <code>v[l:r]</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index: 0  1  2  3  4  5  6  7  8  9  10</span><br><span class="line"></span><br><span class="line">value: 1  3  4  5  7  9 11 13 20 21  39</span><br><span class="line">       ^                              ^</span><br><span class="line">label: l                              r</span><br></pre></td></tr></table></figure>
<p>Then we compute the median <code>v[m]</code> of <code>v[l:r]</code>, which is the value right in the middle of <code>v[l:r]</code>. Note that we are not necessary computing the exact median when there are even number of elements in the range. That is to say we are calculating <span>$v[ \lfloor \frac{l+r}{2} \rfloor ]$</span><!-- Has MathJax -->.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index: 0  1  2  3  4  5  6  7  8  9  10</span><br><span class="line"></span><br><span class="line">value: 1  3  4  5  7  9 11 13 20 21  39</span><br><span class="line">       ^              ^               ^</span><br><span class="line">label: l              m               r</span><br></pre></td></tr></table></figure>
<p>As we can see, <code>v[m] = 9</code> and <code>v[m] &lt; 10</code>. Since <code>v[m] = max(v[0:m])</code>, we can safely say that if <code>10</code> is in <code>v</code>, it must in <code>v[m:r]</code>.</p>
<p>With that in mind, we narrow our search space to <code>v[5,10]</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index: 0  1  2  3  4  5  6  7  8  9  10</span><br><span class="line"></span><br><span class="line">value: 1  3  4  5  7  9 11 13 20 21  39</span><br><span class="line">                      ^               ^</span><br><span class="line">label:                l               r</span><br></pre></td></tr></table></figure>
<p>After we reduce the search range, we calculate <code>m</code> by <code>(l+r)/2</code>. Note <code>l</code>, <code>r</code>, and <code>2</code> are <em>integers</em> therefore the fraction part of <code>(l+r)/2</code> is ignored.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index: 0  1  2  3  4  5  6  7  8  9  10</span><br><span class="line"></span><br><span class="line">value: 1  3  4  5  7  9 11 13 20 21  39</span><br><span class="line">                      ^     ^         ^</span><br><span class="line">label:                l     m         r</span><br></pre></td></tr></table></figure>
<p>This time <code>v[m]</code> is larger than <code>10</code>. Because <code>v[m] = min(v[m:(v.size()-1)])</code>, we can safely conclude that <code>10</code> won’t appear in <code>v[m:10]</code>. So we change our search space to <code>v[l:m]</code> by setting <code>r = m</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index: 0  1  2  3  4  5  6  7  8  9  10</span><br><span class="line"></span><br><span class="line">value: 1  3  4  5  7  9 11 13 20 21  39</span><br><span class="line">                      ^  ^  ^</span><br><span class="line">label:                l  m  r</span><br></pre></td></tr></table></figure>
<p>Now <code>v[m] = 11</code>, which is still larger than our target <code>10</code>, therefore we set <code>r = m</code>. Note that in our <code>C++</code> snippet we stop when <code>l == r - 1</code>, therefore we stop when l and r are adjecent.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index: 0  1  2  3  4  5  6  7  8  9  10</span><br><span class="line"></span><br><span class="line">value: 1  3  4  5  7  9 11 13 20 21  39</span><br><span class="line">                      ^  ^</span><br><span class="line">label:                l  r</span><br></pre></td></tr></table></figure>
<p>Then we test <code>v[l]</code> and <code>v[r]</code> to see if they equal to <code>10</code>. Unfortunately none of them is <code>10</code> therefore we say <code>10</code> is not in this array <code>v</code>. One may wondering why comparing <code>v[r]</code> since <code>r</code> is <code>m</code> in the previous step and we already compared <code>v[m]</code> in last step. Thing may get tricky when one is trying to save this two comparison. An example is what if <code>l == m</code>? In such case we do not need to compare <code>v[l]</code> but <code>v[r]</code>.</p>
<h2 id="Binary-Search-Questions"><a href="#Binary-Search-Questions" class="headerlink" title="Binary Search Questions"></a>Binary Search Questions</h2><p>There are five main parts of a binary search algorithm:</p>
<ol>
<li>Invalid input detection. One need to filter our all input with a length less than 0 because this will make <code>r == -1</code>.</li>
<li>Iteration stop condition. Usually I like to use <code>l &lt; r - 1</code> because it is easy to implement and can avoid specific cases. But you can always use <code>l &lt; r - k</code>, where <code>k &gt;= 0</code>.</li>
<li>Pruning condition. The classic binary search uses <code>v[m] &lt; target</code> or <code>v[m] &gt; target</code>, but this depends on your problems.</li>
<li>Boundry condition. By using <code>l &lt; r - 1</code>, one do not need to do detecting but check the value of <code>v[l]</code> and <code>v[r]</code>.</li>
<li>Boundry check. Check boundary values <code>v[l]</code> and <code>v[r]</code> and deal with the case when target is not found.</li>
</ol>
<h3 id="Problems-on-Sorted-Arrays"><a href="#Problems-on-Sorted-Arrays" class="headerlink" title="Problems on Sorted Arrays"></a>Problems on Sorted Arrays</h3><h4 id="Binary-Search"><a href="#Binary-Search" class="headerlink" title="Binary Search"></a>Binary Search</h4><p>The question description can be found at the following site:</p>
<blockquote>
<p>Lintcode: <a href="http://www.lintcode.com/en/problem/binary-search/" target="_blank" rel="external">(14) Binary Search</a></p>
</blockquote>
<p>This is the basic binary search problem, the code can be found <a href="#Binary_Search_Basics">above</a>.</p>
<h4 id="Search-insert-position"><a href="#Search-insert-position" class="headerlink" title="Search insert position"></a>Search insert position</h4><p>The question description can be found at the following sites:</p>
<blockquote>
<p>Lintcode: <a href="http://www.lintcode.com/en/problem/search-insert-position/" target="_blank" rel="external">(60) Search insert position</a><br>Leetcode: <a href="https://leetcode.com/problems/search-insert-position/" target="_blank" rel="external">(35) Search insert position</a></p>
</blockquote>
<p>The answer of this question is a twisted version of classic binary search. Namely we just need to change the <em>invalid input detection</em> and <em>boundry check</em>.</p>
<p>The invalid input detection should output <code>0</code> instead of <code>-1</code> because when <code>target</code> is not found, the output should be the index of target if it was inserted. In this case, it is <code>0</code>.</p>
<p>As for boundary check, we return <code>l</code> or <code>r</code> if <code>m[l] == target</code> or <code>m[r] == target</code>. If none of them equals to <code>target</code>, we need to determine where to insert <code>target</code>. The index should be the smallest value in <code>m</code> that is larger than <code>target</code>.</p>
<script src="//gist.github.com/2d48d066fee6ccc38c85.js"></script>
<h4 id="Wood-Cut"><a href="#Wood-Cut" class="headerlink" title="Wood Cut"></a>Wood Cut</h4><h4 id="Find-Bad-Version"><a href="#Find-Bad-Version" class="headerlink" title="Find Bad Version"></a>Find Bad Version</h4><h4 id="Find-the-nearest-pow-i-2-that-equals-or-less-thansqrt-x"><a href="#Find-the-nearest-pow-i-2-that-equals-or-less-thansqrt-x" class="headerlink" title="Find the nearest pow(i,2) that equals or less thansqrt(x)"></a>Find the nearest <code>pow(i,2)</code> that equals or less than<code>sqrt(x)</code></h4><p>The question description can be found at the following sites:</p>
<blockquote>
<p>Lintcode: <a href="http://www.lintcode.com/en/problem/sqrtx/" target="_blank" rel="external">(141) sqrt(x)</a><br>Leetcode: <a href="https://leetcode.com/problems/sqrtx/" target="_blank" rel="external">(69) sqrt(x)</a></p>
</blockquote>
<p>This problem is also a variant of binary search problem. One thing we need to mention is how to calculate <code>sqrt(2)</code>. The question does not require you to return <code>1.414</code> but <code>1</code> (the largest integer that satifies <code>x^2 &lt; target</code>). Therefore, we need to change the <em>pruning condition</em> to comparing <code>m[mid]^2</code> and <code>x</code>.</p>
<script src="//gist.github.com/15f9e8aed2f0590ba099.js"></script>
<h4 id="Find-value-range-in-sorted-array-containing-duplicate-values"><a href="#Find-value-range-in-sorted-array-containing-duplicate-values" class="headerlink" title="Find value range in sorted array containing duplicate values"></a>Find value range in sorted array containing duplicate values</h4><p>The question description can be found at the following sites:</p>
<blockquote>
<p>Lintcode: <a href="http://www.lintcode.com/en/problem/search-for-a-range/" target="_blank" rel="external">(61) Search for a Range</a><br>Leetcode: <a href="https://leetcode.com/problems/search-for-a-range/" target="_blank" rel="external">(34) Search for a Range</a></p>
</blockquote>
<p>If we keep using the <a href="#Binary_Search_Basics">old algorithm</a>, we can find <code>v[index] = target</code>, but we can not guarantee which <code>index</code> we returned. An example is:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index: 0  1  2  3  4  5  6  7  8  9  10</span><br><span class="line"></span><br><span class="line">value: 1  3  3  3  4  9 11 13 20 21  39</span><br><span class="line">             ^</span><br><span class="line">label:       m</span><br></pre></td></tr></table></figure>
<p>Here we return <code>index = 2</code>, but we can not return the correct range of <code>3</code>, which is <code>[1,3]</code>.</p>
<p>A simple solution is search the left and right part of <code>index</code> one by one until we find an element not equals to <code>target</code> or reaches the boundary. This is doable but in the worse case it will cost <code>O(n)</code> time, which is not what we want.</p>
<p>To solve this problem in <code>O(logn)</code> time as usual, we need to twist the traditional binary search algorithm. Remember, we keep reducing the search space by comparing <code>v[mid]</code> to <code>target</code>, and we stop when <code>v[mid] == target</code>. What if we change the comparison? I do not know how to search the range in one binary search, so I break the result into two parts, namely find the left most <code>target</code> and the right most <code>target</code>.</p>
<p>To find the left most <code>target</code> in this array, we should change the comparison from</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (v[m] &gt; target) &#123;</span><br><span class="line">  r = m;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  l = m;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>to</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (v[m] &gt;= target) &#123;</span><br><span class="line">  r = m;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  l = m;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In such way, if we find <code>v[m] == target</code>, we will not stop. Instead we will search the left part while keeping <code>v[r] == target</code>. When <code>l == r - 1</code>, we just check <code>v[l]</code> and <code>v[r]</code> and see if <code>v[l] == target</code>, which is unlikely in this case, or <code>v[r] == target</code>. We return the index of the leftmost one that equals to <code>target</code>. By doing this, we find the leftmost <code>target</code>.</p>
<p>The way of finding the rightmost target is similar and is shown in the follwing code.</p>
<script src="//gist.github.com/6f158096ca48efc9fb19.js"></script>
<h3 id="Problems-on-Rotated-Sorted-Arrays"><a href="#Problems-on-Rotated-Sorted-Arrays" class="headerlink" title="Problems on Rotated, Sorted Arrays"></a>Problems on Rotated, Sorted Arrays</h3><h4 id="Search-in-Rotated-Sorted-Array"><a href="#Search-in-Rotated-Sorted-Array" class="headerlink" title="Search in Rotated Sorted Array"></a>Search in Rotated Sorted Array</h4><h4 id="Search-in-Rotated-Sorted-Array-II"><a href="#Search-in-Rotated-Sorted-Array-II" class="headerlink" title="Search in Rotated Sorted Array II"></a>Search in Rotated Sorted Array II</h4><h4 id="Find-Minimum-in-Rotated-Sorted-Array"><a href="#Find-Minimum-in-Rotated-Sorted-Array" class="headerlink" title="Find Minimum in Rotated Sorted Array"></a>Find Minimum in Rotated Sorted Array</h4><h4 id="Find-Minimum-in-Rotated-Sorted-Array-II"><a href="#Find-Minimum-in-Rotated-Sorted-Array-II" class="headerlink" title="Find Minimum in Rotated Sorted Array II"></a>Find Minimum in Rotated Sorted Array II</h4><h4 id="Find-Peak-Element"><a href="#Find-Peak-Element" class="headerlink" title="Find Peak Element"></a>Find Peak Element</h4><h3 id="Other-Binary-Search-Problems"><a href="#Other-Binary-Search-Problems" class="headerlink" title="Other Binary Search Problems"></a>Other Binary Search Problems</h3><h4 id="Search-A-2D-Matrix"><a href="#Search-A-2D-Matrix" class="headerlink" title="Search A 2D Matrix"></a>Search A 2D Matrix</h4>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://pbs.twimg.com/profile_images/542136176363053056/JGvwpXLI.png"
               alt="Baoxu(Dash) Shi" />
          <p class="site-author-name" itemprop="name">Baoxu(Dash) Shi</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">18</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>
          
          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">47</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/bxshi" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/slaindev" target="_blank">
                  
                    <i class="fa fa-twitter"></i> Twitter
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Baoxu(Dash) Shi</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  


  



  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'bshiblog';
      var disqus_identifier = 'page/2/index.html';
      var disqus_title = '';
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  



  
  

  
  


</body>
</html>
